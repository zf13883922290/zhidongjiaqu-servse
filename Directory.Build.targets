<Project>
  <!-- 把这个放在解决方案/仓库根，构建前运行 dotnet format（仅在设置 RunDotNetFormat=true 时启用） -->
  <Target Name="RunDotNetFormat" BeforeTargets="BeforeBuild" Condition="'$(RunDotNetFormat)' == 'true'">
    <Message Text="Running dotnet format on $(MSBuildProjectDirectory)" Importance="high" />
    <Exec Command="dotnet tool restore" />
    <Exec Command="dotnet format $(MSBuildProjectDirectory) --severity info" />
  </Target>
</Project>
